---
title: RColorBrewer palettes
Author: Luiz Carlos Vieira
date: 22/02/2022
---

# Introdução

colorRampPalette() pode ser entendido como um “misturador” de cores.

Imagine que você tem uma paleta de cores, e esta possue apenas as cores vermelho e azul. A função 
colorRampPalette() cria um espectro de diferentes cores misturando o azul e o vermelho. 


Instalação do pacote RColorBrewer:
```{r}
#install.packages("RColorBrewer")

# Carregando a bibioteca
library(RColorBrewer)
```
  

Acessando as paletas de cores do biblioteca RColorBrewer com a função display.brewer.all()
```{r, fig.height=8}
display.brewer.all()
```


# Há 3 tipos de paletas: sequential, diverging e qualitative.

## As paletas sequenciais

são adequadas para dados ordenados que progridem de baixo para alto (gradiente).

As paletass são: Blues, BuGn, BuPu, GnBu, Greens, Greys, Oranges, OrRd, PuBu, PuBuGn, PuRd, Purples,
RdPu, Reds, YlGn, YlGnBu YlOrBr, YlOrRd.


## As paletas divergentes
colocam a mesma ênfase em valores críticos de médio alcance e extremos em ambas as extremidades do intervalo 
de dados.

As paletass são: BrBG, PiYG, PRGn, PuOr, RdBu, RdGy, RdYlBu, RdYlGn, Spectral

## As paletas qualitativas 

são mais adequadas para representar dados nominais ou categóricos. Não implicam diferenças de magnitude entre
os grupos.

As paletass são: Accent, Dark2, Paired, Pastel1, Pastel2, Set1, Set2, Set3


# Para visualizar apenas uma paleta RColorBrewer, basta especificar o nome da cor:
```{r}
par(mfrow=c(1,3))
display.brewer.pal(n = 11, name = 'RdYlBu')
display.brewer.pal(n = 9, name = 'RdYlBu')
display.brewer.pal(n = 5, name = 'RdYlBu')

```



# Hexadecimal color specification 
```{r}
brewer.pal(n = 8, name = "RdBu")

```


# Barplot usando RColorBrewer
```{r}
barplot(c(2,5,7), col=brewer.pal(n = 3, name = "RdYlBu"))

```

## Função brewer.pal()

A única função real no pacote RColorBrewer é a função brewer.pal() que tem dois argumentos

name: o nome da paleta de cores que você deseja usar
n: o número de cores que você deseja da paleta (inteiro)

Abaixo optamos por utilizar 3 cores da paleta "BuGn", que é uma paleta sequencial.
```{r}
cols <- brewer.pal(3, "BuGn")
cols

```


## Palleta de cores com a função colorRampPalette

A função colorRampPalette() retorna uma função contendo as cores que interpolam a paleta.

As cores da qual se deseja criar apaleta são informadadas como argumentos para a função,
e esta retorna uma outra função com as cores, que podem ser acessadas informando a quantidade de cores 
que se deseja acessar. 
```{r}
colfunc <- colorRampPalette(c("green", "yellow", "red"))
colfunc(4)
```


## Outro exemplo
```{r}
colfunc <- colorRampPalette(c("red","yellow","springgreen","royalblue"))

plot(rep(1,50), col=(colfunc(50)), pch=19, cex=2)

```

## colorRampPalette e brewer.pal

Criando uma paleta com 100 cores, baseadas nas 9 cores da oaleta 'Blues'. 
```{r}
colorRampPalette(brewer.pal(9,'Blues'))(100)
```


## Revertendo a paleta de cores

A função rev, reverte a ordem das cores

O argumento colors também funciona na função pheatmap.
```{r}
library(pheatmap)

mat <- matrix(rnorm(20), ncol = 5, nrow = 4) 

corBlues <- colorRampPalette(rev(brewer.pal(9, "Blues")))(255)

pheatmap(mat, colors = corBlues) 

```



## Referências:

https://www.w3schools.com/r/default.asp
https://www.cs.upc.edu/~robert/teaching/estadistica/rprogramming.pdf
https://bookdown.org/rdpeng/exdata/plotting-and-color-in-r.html#colorramp

